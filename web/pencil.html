<!doctype html>
<meta charset=utf-8>
<title>Our Awesome Code Editor</title>

<link rel=stylesheet href=/cm/lib/codemirror.css>
<link rel=stylesheet href=/cm/theme/default.css>
<link rel=stylesheet href=/cm/theme/neat.css>
<link rel=stylesheet href=/cm/theme/elegant.css>
<link rel=stylesheet href=/cm/theme/night.css>
<link rel=stylesheet href=/cm/theme/monokai.css>
<link rel=stylesheet href=/cm/theme/cobalt.css>
<link rel=stylesheet href=/cm/theme/eclipse.css>
<link rel=stylesheet href=/cm/theme/rubyblue.css>
<link rel=stylesheet href=/cm/lib/util/dialog.css>

<script src=/js/diff_match_patch.js></script>
<script src=/js/scout.js></script>
<script src=/js/plugger.js></script>
<script src=/js/split.js></script>
<script src=/cm/lib/codemirror.js></script>
<script src=/cm/lib/util/dialog.js></script>
<script src=/cm/lib/util/searchcursor.js></script>
<script src=/cm/lib/util/search.js></script>
<script src=/cm/codemirror.plug.js></script>

<style>
  html body { margin: 0px; padding: 0px; width: 100%; height: 100%; position: absolute; }
  .CodeMirror-scroll {
    height: auto;
    width: 100%;
    position: fixed;
    bottom: 27px;
    top: 0px;
  }
  .toolbar {
    position: absolute;
    bottom: 0px;
    height: 27px;
  }
</style>

<body class="cm-s-default">

  <div class=toolbar>
    <select onchange="selectTheme(this)">
      <option selected>default</option>
      <option>night</option>
      <option>neat</option>
      <option>monokai</option>
      <option>elegant</option>
      <option>cobalt</option>
      <option>eclipse</option>
      <option>rubyblue</option>
    </select>
  </div>

  <script>

    // Create a CodeMirror2 editor.
    editor = CodeMirrorPlug("{{=path|jsonstring}}", document.body, {
      value: "Loading...",
      mode: "text/plain",
      tabMode: "shift"
    });

    importCodeMirrorMode("{{=mime|jsonstring}}");

    // Change theme.
    function selectTheme(node) {
      var theme = node.options[node.selectedIndex].innerHTML;
      editor.setOption("theme", theme);
      document.body.className = document.body.className.replace(/cm-s-\w+/, "cm-s-"+theme);
    }

  </script>
</body>
