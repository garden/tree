<!doctype html>
<meta charset=utf-8>
<title>Testing Scout</title>

<!-- This page can test corner-cases. -->

<script>


var count = 0;

function sending() {
  Scout.send(function(params) {
    params.action = 'test';
    params.data = {f:0};
    params.resp = function(resp) {
      count++;
      console.log('resp #%s', count);
    };
  })();
}

addEventListener('load', function() {

  // Testing successive XHR that happen while the previous XHR wasn't done yet.

  console.log('### TEST 1 ###');

  for (var i = 0;  i < 55;  i++)  sending();


  // Testing sending no data.

  console.log('### TEST 2 ###');

  Scout.send(function(params) {
    console.log('sending...');
    params.action = 'test';
    params.method = 'GET';
    params.resp = function(resp) {
      console.log('resp is', resp);
    };
    params.error = function(err) {
      console.error(err);
    };
  })();

}, false);


</script>

<script src=js/scout.js></script>
